<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chat</title>
</head>
<body>

    <div style="text-align: center;">
        <h4 id="info"></h4>

        <ul id="messages">

        </ul>

        <form onsubmit="sendMessage(); return false;">
            <input type="text" id="messageArea" placeholder="Wpisz wiadomość">
        </form>
    </div>

    <script type="text/javascript">
        var websocketLink = "ws://localhost:8080/room";
        var infoText = document.getElementById("info");
        var websocket = new WebSocket(websocketLink);
        var textArea = document.getElementById("messageArea");
        var messagesArea = document.getElementById("messages");


        websocket.onopen = function (ev) {
            infoText.innerHTML = "Połączono!";
        }

        websocket.onmessage = function (ev) {
            messagesArea.innerHTML = messagesArea.innerHTML + "<li>" + ev.data + "</li>";
        }

        function sendMessage() {
            var text = textArea.value;
            textArea.value = "";

            websocket.send(text);
        }
    </script>
</body>
</html>